
@{
    ViewBag.Title = "vVentasData";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="dx-viewport demo-container">
    <div id="pivotgrid-demo">
 
        <div id="pivotGridContainer"></div>
    </div>
</div>

@section Scripts {
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- DevExtreme theme -->
    <link rel="stylesheet" href="https://cdn3.devexpress.com/jslib/24.1.6/css/dx.light.css">

    <!-- DevExtreme libraries (reference only one of them) -->
    <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/24.1.6/js/dx.all.js"></script>

    @*<link href="https://cdn3.devexpress.com/jslib/21.2.4/css/dx.common.css" rel="stylesheet" />
        <link href="https://cdn3.devexpress.com/jslib/21.2.4/css/dx.light.css" rel="stylesheet" />
        <script src="https://cdn3.devexpress.com/jslib/21.2.4/js/jquery.min.js"></script>
        <script src="https://cdn3.devexpress.com/jslib/21.2.4/js/knockout.js"></script>
        <script src="https://cdn3.devexpress.com/jslib/21.2.4/js/globalize.min.js"></script>
        <script src="https://cdn3.devexpress.com/jslib/21.2.4/js/dx.all.js"></script>*@


    <script type="text/javascript">
        $(document).ready(function () {

            $("#pivotGridContainer").dxPivotGrid({
                dataSource: [
                    { codigo: "368000", valor: 10 },
                    { codigo: "368001", valor: 20 }
                ],
                fields: [
                    { dataField: "codigo", area: "row" },
                    { dataField: "valor", area: "data", summaryType: "sum" }
                ],
                showBorders: true
            });
            @*$.ajax({
                url: '@Url.Action("GetVentasData", "Ventas")',
                type: 'GET',
                success: function (data) {
                    console.log(data);
                    $("#pivotGridContainer").dxPivotGrid({
                        dataSource: data,
                        allowSortingBySummary: true,
                        allowFiltering: true,
                        allowExpandAll: true,
                        showBorders: true,
                        fieldChooser: {
                            enabled: true
                        },
                        fields: [
                            { dataField: "codigo", area: "row", caption: "Código" },
                            { dataField: "descripcion", area: "row", caption: "Descripción" },
                            { dataField: "agno", area: "column", caption: "Año" },
                            { dataField: "mes", area: "column", caption: "Mes" },
                            { dataField: "valor", area: "data", caption: "Valor", summaryType: "sum" }
                        ]
                    });
                },
                error: function () {
                    alert('Error al cargar los datos.');
                }
            });*@
        });
    </script>


}